{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\EditProfile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Axios from \"axios\"; //import { withCookies, Cookies } from 'react-cookie';\n\nimport Cookies from 'js-cookie';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Nav, Navbar, NavDropdown, NavItem, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router';\nimport Select from \"../common/Dropdown\";\n\nfunction EditProfile() {\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedInUser = _useState2[0],\n      setLoginUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      profileData = _useState6[0],\n      setProfileData = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      DOBReg = _useState8[0],\n      setDOBReg = _useState8[1];\n\n  var facilityList = [\"DC jail\"];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      facilityReg = _useState10[0],\n      setFacilityReg = _useState10[1];\n\n  var offenseList = [\"Felony\", \"Misdemeanor\", \"Infraction\"];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      offenseReg = _useState12[0],\n      setOffenseReg = _useState12[1];\n\n  var sentenceList = Array.from(Array(101).keys());\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      sentenceReg = _useState14[0],\n      setSentenceReg = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      ssnReg = _useState16[0],\n      setSSNReg = _useState16[1];\n\n  var _useState17 = useState(0),\n      _useState18 = _slicedToArray(_useState17, 2),\n      photoIddReg = _useState18[0],\n      setPhotoIddReg = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      birthCertificateReg = _useState20[0],\n      setBirthCertificateReg = _useState20[1];\n\n  var genderList = [\"male\", \"female\", \"other\"];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      genderReg = _useState22[0],\n      setGenderReg = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      domViolenceReg = _useState24[0],\n      setDomViolenceReg = _useState24[1];\n\n  var _useState25 = useState(0),\n      _useState26 = _slicedToArray(_useState25, 2),\n      hasKidsReg = _useState26[0],\n      setHasKidsReg = _useState26[1];\n\n  var _useState27 = useState(0),\n      _useState28 = _slicedToArray(_useState27, 2),\n      medicalConditionReg = _useState28[0],\n      setMedicalConditionReg = _useState28[1];\n\n  var _useState29 = useState(0),\n      _useState30 = _slicedToArray(_useState29, 2),\n      mentalHealthReg = _useState30[0],\n      setMentalHealthReg = _useState30[1];\n\n  var _useState31 = useState(0),\n      _useState32 = _slicedToArray(_useState31, 2),\n      substanceDisorderReg = _useState32[0],\n      setSubstanceDisorderReg = _useState32[1];\n\n  var cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/) || [, null])[1];\n  Axios.defaults.withCredentials = true;\n\n  var logoutUser = function logoutUser() {\n    Axios.post('http://localhost:3001/logout', {}, {\n      withCredentials: 'true'\n    });\n    history.push(\"/login\");\n    window.location.reload();\n  };\n\n  var cancelEditFunc = function cancelEditFunc() {\n    history.push(\"/profile\");\n    window.location.reload();\n  };\n\n  var edit = function edit() {\n    Axios.post(\"http://localhost:3001/profile/editProfile\", {\n      dob: DOBReg.length > 0 ? DOBReg : profileData[0].dob,\n      facility_name: facilityReg.length > 0 ? facilityReg : profileData[0].facility_name,\n      offense: offenseReg.length > 0 ? offenseReg : profileData[0].offense,\n      sentence_length: sentenceReg.length > 0 ? sentenceReg : profileData[0].sentence_length,\n\n      /* add new field from new user by dinhle  */\n      ssn: ssnReg,\n      photo_id: photoIddReg,\n      birth_certificate: birthCertificateReg,\n      gender: genderReg.length > 0 ? genderReg : profileData[0].gender,\n      dom_violence: domViolenceReg,\n      has_kids: hasKidsReg,\n      medical_condition: medicalConditionReg,\n      mental_health: mentalHealthReg,\n      substance_disorder: substanceDisorderReg\n    }).then(function (response) {\n      console.log(\"User Profile Updated: \", response);\n      history.push(\"/profile\");\n    });\n  };\n\n  useEffect(function () {\n    Axios.get(\"http://localhost:3001/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        setLoginUser(response.data.user[0].username);\n        setData(response.data);\n      }\n    });\n    Axios.get(\"http://localhost:3001/profile\").then(function (response) {\n      setFacilityReg(response.data[0].facility_name);\n      setOffenseReg(response.data[0].offense);\n      setSentenceReg(response.data[0].sentence_length);\n      setSSNReg(response.data[0].ssn);\n      setPhotoIddReg(response.data[0].photo_id);\n      setBirthCertificateReg(response.data[0].birth_certificate);\n      setGenderReg(response.data[0].gender);\n      domViolenceReg(response.data[0].dom_violence);\n      setHasKidsReg(response.data[0].has_kids);\n      setMedicalConditionReg(response.data[0].medical_condition);\n      setMentalHealthReg(response.data[0].mental_health);\n      setSubstanceDisorderReg(response.data[0].substance_disorder);\n      setProfileData(response.data);\n    });\n\n    if (loggedInUser.length > 0) {\n      console.log(\"User Logged In\");\n    } else {\n      console.log(\"user not logged in\");\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"success\",\n    variant: \"dark\",\n    fixed: \"top\",\n    expand: \"lg\",\n    collapseOnSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 10\n    }\n  }, \"Reentry and Corrections\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(NavDropdown, {\n    title: \"Organizations\",\n    id: \"navbarScrollingDropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/housing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"Housing Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/employment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"Employment Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/food\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"Food Organizations\")), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Favorites\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    onClick: logoutUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \" logout \")))), profileData.length >= 0 ? profileData.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container Profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, loggedInUser, \"'s Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, \"Date Of Birth\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      defaultValue: user.dob,\n      onChange: function onChange(e) {\n        setDOBReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Facility Name\"), /*#__PURE__*/React.createElement(Select, {\n      value: facilityReg,\n      handleChange: function handleChange(e) {\n        return setFacilityReg(e.target.value);\n      },\n      data: facilityList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Do you have a felony offense?\"), /*#__PURE__*/React.createElement(Select, {\n      value: offenseReg,\n      handleChange: function handleChange(e) {\n        return setOffenseReg(e.target.value);\n      },\n      data: offenseList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, \"Sentence Length\"), /*#__PURE__*/React.createElement(Select, {\n      value: sentenceReg,\n      handleChange: function handleChange(e) {\n        return setSentenceReg(e.target.value);\n      },\n      data: sentenceList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 24\n      }\n    }, \" \\xA0year(s)\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, \"Do you have an\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: ssnReg,\n      defaultChecked: ssnReg === 1,\n      onChange: function onChange(e) {\n        setSSNReg(ssnReg === 1 ? 0 : 1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 22\n      }\n    }, \" SSN Card \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, \"Do you have?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: photoIddReg,\n      defaultChecked: photoIddReg === 1,\n      onChange: function onChange(e) {\n        setPhotoIddReg(photoIddReg === 1 ? 0 : 1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, \" photo ID \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, \"Do you have a \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: birthCertificateReg,\n      defaultChecked: birthCertificateReg === 1,\n      onChange: function onChange(e) {\n        setBirthCertificateReg(birthCertificateReg === 1 ? 0 : 1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, \" birth certificate? \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"What gender do you identify as?\"), /*#__PURE__*/React.createElement(Select, {\n      value: genderReg,\n      handleChange: function handleChange(e) {\n        return setGenderReg(e.target.value);\n      },\n      data: genderList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, \"Are you a survivor of domestice violence?\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, \" Yes \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"dom_radio\",\n      value: 1,\n      defaultChecked: user.dom_violence === 1,\n      onChange: function onChange(e) {\n        setDomViolenceReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, \" No \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"dom_radio\",\n      value: 0,\n      defaultChecked: user.dom_violence === 0,\n      onChange: function onChange(e) {\n        setDomViolenceReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }, \"Do you have kids under the age of 18?\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, \" Yes \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"has_kids_radio\",\n      value: 1,\n      defaultChecked: user.has_kids === 1,\n      onChange: function onChange(e) {\n        setHasKidsReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }\n    }, \" No \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"has_kids_radio\",\n      value: 0,\n      defaultChecked: user.has_kids === 0,\n      onChange: function onChange(e) {\n        setHasKidsReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }, \"Do you have a medical condition?\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, \" Yes \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"medical_condition_radio\",\n      value: 1,\n      defaultChecked: user.medical_condition === 1,\n      onChange: function onChange(e) {\n        setMedicalConditionReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }, \" No \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"medical_condition_radio\",\n      value: 0,\n      defaultChecked: user.medical_condition === 0,\n      onChange: function onChange(e) {\n        setMedicalConditionReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }\n    }, \"Do you have a mental health diagnosis?\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 21\n      }\n    }, \" Yes \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"mental_health_radio\",\n      value: 1,\n      defaultChecked: user.mental_health === 1,\n      onChange: function onChange(e) {\n        setMentalHealthReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    }, \" No \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"mental_health_radio\",\n      value: 0,\n      defaultChecked: user.mental_health === 0,\n      onChange: function onChange(e) {\n        setMentalHealthReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-2 pb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    }, \"Do you have substance use disorder?\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }, \" Yes \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"substance_disorder_radio\",\n      value: 1,\n      defaultChecked: user.substance_disorder === 1,\n      onChange: function onChange(e) {\n        setSubstanceDisorderReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, \" No \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"substance_disorder_radio\",\n      value: 0,\n      defaultChecked: user.substance_disorder === 0,\n      onChange: function onChange(e) {\n        setSubstanceDisorderReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      className: \"cancel\",\n      onClick: cancelEditFunc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      className: \"submit\",\n      onClick: edit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, \"Submit\")));\n  }) : history.push(\"/login\"));\n}\n\nexport default EditProfile;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/EditProfile.js"],"names":["React","useState","useEffect","Axios","Cookies","Nav","Navbar","NavDropdown","NavItem","Button","useHistory","Select","EditProfile","history","loggedInUser","setLoginUser","data","setData","profileData","setProfileData","DOBReg","setDOBReg","facilityList","facilityReg","setFacilityReg","offenseList","offenseReg","setOffenseReg","sentenceList","Array","from","keys","sentenceReg","setSentenceReg","ssnReg","setSSNReg","photoIddReg","setPhotoIddReg","birthCertificateReg","setBirthCertificateReg","genderList","genderReg","setGenderReg","domViolenceReg","setDomViolenceReg","hasKidsReg","setHasKidsReg","medicalConditionReg","setMedicalConditionReg","mentalHealthReg","setMentalHealthReg","substanceDisorderReg","setSubstanceDisorderReg","cookieExists","document","cookie","match","defaults","withCredentials","logoutUser","post","push","window","location","reload","cancelEditFunc","edit","dob","length","facility_name","offense","sentence_length","ssn","photo_id","birth_certificate","gender","dom_violence","has_kids","medical_condition","mental_health","substance_disorder","then","response","console","log","get","loggedIn","user","username","map","e","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,kCAAP;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,WAAtB,EAAmCC,OAAnC,EAA4CC,MAA5C,QAA0D,iBAA1D;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,SAASC,WAAT,GAAsB;AAClB,MAAMC,OAAO,GAAGH,UAAU,EAA1B;;AADkB,kBAEmBT,QAAQ,CAAC,EAAD,CAF3B;AAAA;AAAA,MAEXa,YAFW;AAAA,MAEGC,YAFH;;AAAA,mBAGMd,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,MAGXe,IAHW;AAAA,MAGLC,OAHK;;AAAA,mBAIoBhB,QAAQ,CAAC,EAAD,CAJ5B;AAAA;AAAA,MAIXiB,WAJW;AAAA,MAIEC,cAJF;;AAAA,mBAMUlB,QAAQ,CAAC,EAAD,CANlB;AAAA;AAAA,MAMXmB,MANW;AAAA,MAMHC,SANG;;AAQlB,MAAMC,YAAY,GAAG,CAAC,SAAD,CAArB;;AARkB,mBASoBrB,QAAQ,CAAC,EAAD,CAT5B;AAAA;AAAA,MASXsB,WATW;AAAA,MASEC,cATF;;AAWlB,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAU,aAAV,EAAwB,YAAxB,CAApB;;AAXkB,oBAYkBxB,QAAQ,CAAC,EAAD,CAZ1B;AAAA;AAAA,MAYXyB,UAZW;AAAA,MAYCC,aAZD;;AAelB,MAAMC,YAAY,GAAGC,KAAK,CAACC,IAAN,CAAWD,KAAK,CAAC,GAAD,CAAL,CAAWE,IAAX,EAAX,CAArB;;AAfkB,oBAgBoB9B,QAAQ,CAAC,EAAD,CAhB5B;AAAA;AAAA,MAgBX+B,WAhBW;AAAA,MAgBEC,cAhBF;;AAAA,oBAoBUhC,QAAQ,CAAC,CAAD,CApBlB;AAAA;AAAA,MAoBXiC,MApBW;AAAA,MAoBHC,SApBG;;AAAA,oBAsBoBlC,QAAQ,CAAC,CAAD,CAtB5B;AAAA;AAAA,MAsBXmC,WAtBW;AAAA,MAsBEC,cAtBF;;AAAA,oBAwBoCpC,QAAQ,CAAC,CAAD,CAxB5C;AAAA;AAAA,MAwBXqC,mBAxBW;AAAA,MAwBUC,sBAxBV;;AA0BlB,MAAMC,UAAU,GAAG,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAnB;;AA1BkB,oBA2BgBvC,QAAQ,CAAC,EAAD,CA3BxB;AAAA;AAAA,MA2BXwC,SA3BW;AAAA,MA2BAC,YA3BA;;AAAA,oBA6B0BzC,QAAQ,CAAC,CAAD,CA7BlC;AAAA;AAAA,MA6BX0C,cA7BW;AAAA,MA6BKC,iBA7BL;;AAAA,oBA8BkB3C,QAAQ,CAAC,CAAD,CA9B1B;AAAA;AAAA,MA8BX4C,UA9BW;AAAA,MA8BCC,aA9BD;;AAAA,oBA+BoC7C,QAAQ,CAAC,CAAD,CA/B5C;AAAA;AAAA,MA+BX8C,mBA/BW;AAAA,MA+BUC,sBA/BV;;AAAA,oBAgC4B/C,QAAQ,CAAC,CAAD,CAhCpC;AAAA;AAAA,MAgCXgD,eAhCW;AAAA,MAgCMC,kBAhCN;;AAAA,oBAiCsCjD,QAAQ,CAAC,CAAD,CAjC9C;AAAA;AAAA,MAiCXkD,oBAjCW;AAAA,MAiCWC,uBAjCX;;AAoClB,MAAMC,YAAY,GAAG,CAACC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,0CAAtB,KAAmE,GAAE,IAAF,CAApE,EAA6E,CAA7E,CAArB;AAEArD,EAAAA,KAAK,CAACsD,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBxD,IAAAA,KAAK,CAACyD,IAAN,CAAW,8BAAX,EAA2C,EAA3C,EAAiD;AAAEF,MAAAA,eAAe,EAAE;AAAnB,KAAjD;AACA7C,IAAAA,OAAO,CAACgD,IAAR,CAAa,QAAb;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAJD;;AAMA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzBpD,IAAAA,OAAO,CAACgD,IAAR,CAAa,UAAb;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAHD;;AAKA,MAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AACf/D,IAAAA,KAAK,CAACyD,IAAN,CAAW,2CAAX,EAAwD;AACpDO,MAAAA,GAAG,EAAE/C,MAAM,CAACgD,MAAP,GAAgB,CAAhB,GAAoBhD,MAApB,GAA6BF,WAAW,CAAC,CAAD,CAAX,CAAeiD,GADG;AAEpDE,MAAAA,aAAa,EAAE9C,WAAW,CAAC6C,MAAZ,GAAqB,CAArB,GAAyB7C,WAAzB,GAAuCL,WAAW,CAAC,CAAD,CAAX,CAAemD,aAFjB;AAGpDC,MAAAA,OAAO,EAAE5C,UAAU,CAAC0C,MAAX,GAAoB,CAApB,GAAwB1C,UAAxB,GAAqCR,WAAW,CAAC,CAAD,CAAX,CAAeoD,OAHT;AAIpDC,MAAAA,eAAe,EAAEvC,WAAW,CAACoC,MAAZ,GAAqB,CAArB,GAAyBpC,WAAzB,GAAuCd,WAAW,CAAC,CAAD,CAAX,CAAeqD,eAJnB;;AAKpD;AACAC,MAAAA,GAAG,EAAEtC,MAN+C;AAOpDuC,MAAAA,QAAQ,EAAErC,WAP0C;AAQpDsC,MAAAA,iBAAiB,EAAEpC,mBARiC;AASpDqC,MAAAA,MAAM,EAAElC,SAAS,CAAC2B,MAAV,GAAmB,CAAnB,GAAuB3B,SAAvB,GAAmCvB,WAAW,CAAC,CAAD,CAAX,CAAeyD,MATN;AAUpDC,MAAAA,YAAY,EAAEjC,cAVsC;AAWpDkC,MAAAA,QAAQ,EAAEhC,UAX0C;AAYpDiC,MAAAA,iBAAiB,EAAE/B,mBAZiC;AAapDgC,MAAAA,aAAa,EAAE9B,eAbqC;AAcpD+B,MAAAA,kBAAkB,EAAE7B;AAdgC,KAAxD,EAeO8B,IAfP,CAeY,UAACC,QAAD,EAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,QAAtC;AACArE,MAAAA,OAAO,CAACgD,IAAR,CAAa,UAAb;AACV,KAlBE;AAmBH,GApBD;;AAsBA3D,EAAAA,SAAS,CAAC,YAAK;AACXC,IAAAA,KAAK,CAACkF,GAAN,CAAU,6BAAV,EAAyCJ,IAAzC,CAA8C,UAACC,QAAD,EAAc;AACzD,UAAIA,QAAQ,CAAClE,IAAT,CAAcsE,QAAd,IAA0B,IAA9B,EAAmC;AAC9BvE,QAAAA,YAAY,CAACmE,QAAQ,CAAClE,IAAT,CAAcuE,IAAd,CAAmB,CAAnB,EAAsBC,QAAvB,CAAZ;AACFvE,QAAAA,OAAO,CAACiE,QAAQ,CAAClE,IAAV,CAAP;AACF;AACH,KALD;AAOAb,IAAAA,KAAK,CAACkF,GAAN,CAAU,+BAAV,EAA2CJ,IAA3C,CAAgD,UAACC,QAAD,EAAc;AAG1D1D,MAAAA,cAAc,CAAC0D,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiBqD,aAAlB,CAAd;AACA1C,MAAAA,aAAa,CAACuD,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiBsD,OAAlB,CAAb;AACArC,MAAAA,cAAc,CAACiD,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiBuD,eAAlB,CAAd;AAEApC,MAAAA,SAAS,CAAC+C,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiBwD,GAAlB,CAAT;AACAnC,MAAAA,cAAc,CAAC6C,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiByD,QAAlB,CAAd;AACAlC,MAAAA,sBAAsB,CAAC2C,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB0D,iBAAlB,CAAtB;AAGAhC,MAAAA,YAAY,CAACwC,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB2D,MAAlB,CAAZ;AAEAhC,MAAAA,cAAc,CAACuC,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB4D,YAAlB,CAAd;AACA9B,MAAAA,aAAa,CAACoC,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB6D,QAAlB,CAAb;AACA7B,MAAAA,sBAAsB,CAACkC,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB8D,iBAAlB,CAAtB;AACA5B,MAAAA,kBAAkB,CAACgC,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiB+D,aAAlB,CAAlB;AACA3B,MAAAA,uBAAuB,CAAC8B,QAAQ,CAAClE,IAAT,CAAc,CAAd,EAAiBgE,kBAAlB,CAAvB;AAKA7D,MAAAA,cAAc,CAAC+D,QAAQ,CAAClE,IAAV,CAAd;AACH,KAxBD;;AA0BA,QAAIF,YAAY,CAACsD,MAAb,GAAsB,CAA1B,EAA4B;AACxBe,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,KAFD,MAGI;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;AACH,GAxCO,EAwCL,EAxCK,CAAT;AA0CA,sBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,SAAX;AAAqB,IAAA,OAAO,EAAC,MAA7B;AAAoC,IAAA,KAAK,EAAC,KAA1C;AAAgD,IAAA,MAAM,EAAC,IAAvD;AAA4D,IAAA,gBAAgB,MAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,MAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADD,eAEC,oBAAC,MAAD,CAAQ,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC,oBAAC,MAAD,CAAQ,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,GAAD,CAAK,IAAL;AAAU,IAAA,IAAI,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,eAEG,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAC,eAAnB;AAAmC,IAAA,EAAE,EAAC,yBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD,CAAa,IAAb;AAAkB,IAAA,IAAI,EAAC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,eAEI,oBAAC,WAAD,CAAa,IAAb;AAAkB,IAAA,IAAI,EAAC,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,eAGI,oBAAC,WAAD,CAAa,IAAb;AAAkB,IAAA,IAAI,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHJ,CAFH,eAOG,oBAAC,GAAD,CAAK,IAAL;AAAU,IAAA,IAAI,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPH,eAQG,oBAAC,GAAD,CAAK,IAAL;AAAU,IAAA,IAAI,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARH,eASG,oBAAC,GAAD,CAAK,IAAL;AAAU,IAAA,OAAO,EAAEzB,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATH,CADA,CAHD,CADA,EAkBKzC,WAAW,CAACkD,MAAZ,IAAsB,CAAtB,GACDlD,WAAW,CAACuE,GAAZ,CAAgB,UAASF,IAAT,EAAc;AAE1B,wBACA;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBzE,YAAzB,eADA,eAEA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAO,MAAA,IAAI,EAAE,MAAb;AAAoB,MAAA,YAAY,EAAIyE,IAAI,CAACpB,GAAzC;AAA8C,MAAA,QAAQ,EAAE,kBAACuB,CAAD,EAAO;AAACrE,QAAAA,SAAS,CAACqE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;AAA2B,OAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAII;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,eAKI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAErE,WADX;AAEI,MAAA,YAAY,EAAE,sBAAAmE,CAAC;AAAA,eAAIlE,cAAc,CAACkE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAA,OAFnB;AAGI,MAAA,IAAI,EAAEtE,YAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAYI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAZJ,eAaI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEI,UADX;AAEI,MAAA,YAAY,EAAE,sBAAAgE,CAAC;AAAA,eAAI/D,aAAa,CAAC+D,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA,OAFnB;AAGI,MAAA,IAAI,EAAEnE,WAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,eAoBI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBApBJ,eAqBI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEO,WADX;AAEI,MAAA,YAAY,EAAE,sBAAA0D,CAAC;AAAA,eAAIzD,cAAc,CAACyD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAA,OAFnB;AAGI,MAAA,IAAI,EAAEhE,YAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBJ,oBAyBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAzBP,eA2BI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA3BJ,eA4BI;AACQ,MAAA,IAAI,EAAE,UADd;AAEQ,MAAA,KAAK,EAAEM,MAFf;AAGQ,MAAA,cAAc,EAAEA,MAAM,KAAK,CAHnC;AAIQ,MAAA,QAAQ,EAAE,kBAACwD,CAAD,EAAO;AACbvD,QAAAA,SAAS,CAACD,MAAM,KAAI,CAAV,GAAa,CAAb,GAAe,CAAhB,CAAT;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BJ,eAoCK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBApCL,eAsCI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtCJ,eAuCI;AACQ,MAAA,IAAI,EAAE,UADd;AAEQ,MAAA,KAAK,EAAEE,WAFf;AAGQ,MAAA,cAAc,EAAEA,WAAW,KAAK,CAHxC;AAIQ,MAAA,QAAQ,EAAE,kBAACsD,CAAD,EAAO;AACbrD,QAAAA,cAAc,CAACD,WAAW,KAAI,CAAf,GAAkB,CAAlB,GAAoB,CAArB,CAAd;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvCJ,eA+CI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/CJ,eAiDI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAjDJ,eAkDI;AACQ,MAAA,IAAI,EAAE,UADd;AAEQ,MAAA,KAAK,EAAEE,mBAFf;AAGQ,MAAA,cAAc,EAAEA,mBAAmB,KAAK,CAHhD;AAIQ,MAAA,QAAQ,EAAE,kBAACoD,CAAD,EAAO;AACbnD,QAAAA,sBAAsB,CAACD,mBAAmB,KAAI,CAAvB,GAA0B,CAA1B,GAA4B,CAA7B,CAAtB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlDJ,eA0DI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA1DJ,eA4DI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCA5DJ,eA6DI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEG,SADX;AAEI,MAAA,YAAY,EAAE,sBAAAiD,CAAC;AAAA,eAAIhD,YAAY,CAACgD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AAAA,OAFnB;AAGI,MAAA,IAAI,EAAEpD,UAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7DJ,eAmEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAnEJ,eAoEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eApEJ,eAqEI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,WADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAE+C,IAAI,CAACX,YAAL,KAAsB,CAH9C;AAIQ,MAAA,QAAQ,EAAE,kBAACc,CAAD,EAAO;AACb9C,QAAAA,iBAAiB,CAAC8C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArEJ,eA6EI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA7EJ,eA8EI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,WADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACX,YAAL,KAAsB,CAH9C;AAIQ,MAAA,QAAQ,EAAE,kBAACc,CAAD,EAAO;AACb9C,QAAAA,iBAAiB,CAAC8C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9EJ,eAuFI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAvFJ,eAwFI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAxFJ,eAyFI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,gBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACV,QAAL,KAAkB,CAH1C;AAIQ,MAAA,QAAQ,EAAE,kBAACa,CAAD,EAAO;AACb5C,QAAAA,aAAa,CAAC4C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzFJ,eAiGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjGJ,eAkGI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,gBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACV,QAAL,KAAkB,CAH1C;AAIQ,MAAA,QAAQ,EAAE,kBAACa,CAAD,EAAO;AACb5C,QAAAA,aAAa,CAAC4C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlGJ,eA2GI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CA3GJ,eA4GI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA5GJ,eA6GI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,yBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACT,iBAAL,KAA2B,CAHnD;AAIQ,MAAA,QAAQ,EAAE,kBAACY,CAAD,EAAO;AACb1C,QAAAA,sBAAsB,CAAC0C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7GJ,eAqHI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArHJ,eAsHI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,yBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACT,iBAAL,KAA2B,CAHnD;AAIQ,MAAA,QAAQ,EAAE,kBAACY,CAAD,EAAO;AACb1C,QAAAA,sBAAsB,CAAC0C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtHJ,eAgII;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAhIJ,eAiII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAjIJ,eAkII;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,qBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACR,aAAL,KAAuB,CAH/C;AAIQ,MAAA,QAAQ,EAAE,kBAACW,CAAD,EAAO;AACbxC,QAAAA,kBAAkB,CAACwC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlIJ,eA0II;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1IJ,eA2II;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,qBADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACR,aAAL,KAAuB,CAH/C;AAIQ,MAAA,QAAQ,EAAE,kBAACW,CAAD,EAAO;AACbxC,QAAAA,kBAAkB,CAACwC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3IJ,eAqJI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CArJJ,eAsJI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtJJ,eAuJI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,0BADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACP,kBAAL,KAA4B,CAHpD;AAIQ,MAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACbtC,QAAAA,uBAAuB,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvJJ,eA+JI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA/JJ,eAgKI;AAAQ,MAAA,IAAI,EAAE,OAAd;AACQ,MAAA,IAAI,EAAC,0BADb;AAEQ,MAAA,KAAK,EAAE,CAFf;AAGQ,MAAA,cAAc,EAAEL,IAAI,CAACP,kBAAL,KAA4B,CAHpD;AAIQ,MAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACbtC,QAAAA,uBAAuB,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB;AACH,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhKJ,CAFA,eA2KA;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,SAAS,EAAC,QAApC;AAA6C,MAAA,OAAO,EAAE3B,cAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,SAAS,EAAC,QAApC;AAA6C,MAAA,OAAO,EAAEC,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,CA3KA,CADA;AAkLH,GApLD,CADC,GAqLIrD,OAAO,CAACgD,IAAR,CAAa,QAAb,CAvMT,CADJ;AA4MH;;AAED,eAAejD,WAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n//import { withCookies, Cookies } from 'react-cookie';\r\nimport Cookies from 'js-cookie';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Nav, Navbar, NavDropdown, NavItem, Button } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router'\r\nimport Select from \"../common/Dropdown\";\r\n\r\nfunction EditProfile(){\r\n    const history = useHistory();\r\n    const [loggedInUser, setLoginUser] = useState(\"\");\r\n    const [data, setData] = useState(\"\");\r\n    const [profileData, setProfileData] = useState([]);\r\n\r\n    const [DOBReg, setDOBReg] = useState(\"\");\r\n\r\n    const facilityList = [\"DC jail\"];\r\n    const [facilityReg, setFacilityReg] = useState(\"\");\r\n\r\n    const offenseList = [\"Felony\",\"Misdemeanor\",\"Infraction\"];\r\n    const [offenseReg, setOffenseReg] = useState(\"\");\r\n\r\n\r\n    const sentenceList = Array.from(Array(101).keys());\r\n    const [sentenceReg, setSentenceReg] = useState(\"\");\r\n\r\n    \r\n\r\n    const [ssnReg, setSSNReg] = useState(0);\r\n\r\n    const [photoIddReg, setPhotoIddReg] = useState(0);\r\n\r\n    const [birthCertificateReg, setBirthCertificateReg] = useState(0);\r\n\r\n    const genderList = [\"male\", \"female\", \"other\"];\r\n    const [genderReg, setGenderReg] = useState(\"\");\r\n\r\n    const [domViolenceReg, setDomViolenceReg] = useState(0);\r\n    const [hasKidsReg, setHasKidsReg] = useState(0);\r\n    const [medicalConditionReg, setMedicalConditionReg] = useState(0);\r\n    const [mentalHealthReg, setMentalHealthReg] = useState(0);\r\n    const [substanceDisorderReg, setSubstanceDisorderReg] = useState(0);\r\n\r\n\r\n    const cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/)||[,null])[1]\r\n\r\n    Axios.defaults.withCredentials = true;\r\n\r\n    const logoutUser = () => {\r\n        Axios.post('http://localhost:3001/logout', { } , { withCredentials: 'true' });\r\n        history.push(\"/login\");\r\n        window.location.reload();\r\n    }\r\n\r\n    const cancelEditFunc = () => {\r\n        history.push(\"/profile\");\r\n        window.location.reload();\r\n    }\r\n\r\n    const edit = () => {\r\n        Axios.post(\"http://localhost:3001/profile/editProfile\", {\r\n            dob: DOBReg.length > 0 ? DOBReg : profileData[0].dob,\r\n            facility_name: facilityReg.length > 0 ? facilityReg : profileData[0].facility_name,\r\n            offense: offenseReg.length > 0 ? offenseReg : profileData[0].offense,\r\n            sentence_length: sentenceReg.length > 0 ? sentenceReg : profileData[0].sentence_length,\r\n            /* add new field from new user by dinhle  */\r\n            ssn: ssnReg,\r\n            photo_id: photoIddReg,\r\n            birth_certificate: birthCertificateReg,\r\n            gender: genderReg.length > 0 ? genderReg : profileData[0].gender,\r\n            dom_violence: domViolenceReg,\r\n            has_kids: hasKidsReg,\r\n            medical_condition: medicalConditionReg,\r\n            mental_health: mentalHealthReg,\r\n            substance_disorder: substanceDisorderReg\r\n            }).then((response) => { \r\n                console.log(\"User Profile Updated: \", response);\r\n                history.push(\"/profile\")\r\n     });\r\n    }\r\n\r\n    useEffect(()=> {\r\n        Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n           if (response.data.loggedIn == true){\r\n                setLoginUser(response.data.user[0].username)\r\n              setData(response.data)\r\n           }\r\n        })\r\n\r\n        Axios.get(\"http://localhost:3001/profile\").then((response) => {\r\n\r\n\r\n            setFacilityReg(response.data[0].facility_name)\r\n            setOffenseReg(response.data[0].offense)\r\n            setSentenceReg(response.data[0].sentence_length)\r\n\r\n            setSSNReg(response.data[0].ssn)\r\n            setPhotoIddReg(response.data[0].photo_id)\r\n            setBirthCertificateReg(response.data[0].birth_certificate)\r\n\r\n            \r\n            setGenderReg(response.data[0].gender)\r\n\r\n            domViolenceReg(response.data[0].dom_violence)\r\n            setHasKidsReg(response.data[0].has_kids)\r\n            setMedicalConditionReg(response.data[0].medical_condition)\r\n            setMentalHealthReg(response.data[0].mental_health)\r\n            setSubstanceDisorderReg(response.data[0].substance_disorder)\r\n\r\n\r\n\r\n\r\n            setProfileData(response.data)\r\n        })\r\n\r\n        if (loggedInUser.length > 0){\r\n            console.log(\"User Logged In\")\r\n        }\r\n        else{\r\n            console.log(\"user not logged in\")\r\n        }\r\n     }, []);\r\n    \r\n    return(\r\n        <div className=\"editProfile\">\r\n        <Navbar bg=\"success\" variant=\"dark\" fixed=\"top\" expand=\"lg\" collapseOnSelect>\r\n         <Navbar.Brand>Reentry and Corrections</Navbar.Brand>\r\n         <Navbar.Toggle />\r\n         <Navbar.Collapse>\r\n         <Nav>\r\n            <Nav.Link href=\"/home\">Home</Nav.Link>\r\n            <NavDropdown title=\"Organizations\" id=\"navbarScrollingDropdown\">\r\n                <NavDropdown.Item href=\"/housing\">Housing Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/employment\">Employment Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/food\">Food Organizations</NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"/favorites\">Favorites</Nav.Link>\r\n            <Nav.Link href=\"/profile\">Profile</Nav.Link>\r\n            <Nav.Link onClick={logoutUser}> logout </Nav.Link>\r\n         </Nav>\r\n         </Navbar.Collapse>\r\n      </Navbar>\r\n            {profileData.length >= 0 ?\r\n            profileData.map(function(user){\r\n                \r\n                return (\r\n                <div className=\"container Profile\">\r\n                <div className=\"header\">{loggedInUser}'s Profile</div>\r\n                <div className=\"section\">\r\n                    <div className=\"pt-2 pb-2\">Date Of Birth</div>\r\n                    <input type= \"date\" defaultValue = {user.dob} onChange={(e) => {setDOBReg(e.target.value);}}/>\r\n\r\n                    <div className=\"pt-2 pb-2\">Facility Name</div>\r\n                    <Select\r\n                        value={facilityReg}\r\n                        handleChange={e => setFacilityReg(e.target.value)}\r\n                        data={facilityList}\r\n                    />\r\n\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have a felony offense?</div>\r\n                    <Select\r\n                        value={offenseReg}\r\n                        handleChange={e => setOffenseReg(e.target.value)}\r\n                        data={offenseList}\r\n                    />\r\n\r\n\r\n                    <div className=\"pt-2 pb-2\">Sentence Length</div>\r\n                    <Select\r\n                        value={sentenceReg}\r\n                        handleChange={e => setSentenceReg(e.target.value)}\r\n                        data={sentenceList}\r\n                    /> <span> &nbsp;year(s)</span>\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have an</div>\r\n                    <input  \r\n                            type= \"checkbox\" \r\n                            value={ssnReg}\r\n                            defaultChecked={ssnReg === 1}\r\n                            onChange={(e) => {\r\n                                setSSNReg(ssnReg ===1 ?0:1);\r\n                            }}\r\n                    />\r\n                     <span> SSN Card </span>\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have?</div>\r\n                    <input  \r\n                            type= \"checkbox\" \r\n                            value={photoIddReg}\r\n                            defaultChecked={photoIddReg === 1}\r\n                            onChange={(e) => {\r\n                                setPhotoIddReg(photoIddReg ===1 ?0:1);\r\n                            }}\r\n                    />\r\n                    <span> photo ID </span>\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have a </div>\r\n                    <input  \r\n                            type= \"checkbox\" \r\n                            value={birthCertificateReg}\r\n                            defaultChecked={birthCertificateReg === 1}\r\n                            onChange={(e) => {\r\n                                setBirthCertificateReg(birthCertificateReg ===1 ?0:1);\r\n                            }}\r\n                    />\r\n                    <span> birth certificate? </span>           \r\n\r\n                    <div className=\"pt-2 pb-2\">What gender do you identify as?</div>\r\n                    <Select\r\n                        value={genderReg}\r\n                        handleChange={e => setGenderReg(e.target.value)}\r\n                        data={genderList}\r\n                    />\r\n\r\n                    <div className=\"pt-2 pb-2\">Are you a survivor of domestice violence?</div>\r\n                    <span> Yes </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"dom_radio\"\r\n                            value={1}\r\n                            defaultChecked={user.dom_violence === 1}\r\n                            onChange={(e) => {\r\n                                setDomViolenceReg(e.target.value);\r\n                            }}\r\n                    />\r\n                    <span> No </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"dom_radio\"\r\n                            value={0}\r\n                            defaultChecked={user.dom_violence === 0}\r\n                            onChange={(e) => {\r\n                                setDomViolenceReg(e.target.value);\r\n                            }}\r\n                    />\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have kids under the age of 18?</div>\r\n                    <span> Yes </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"has_kids_radio\"\r\n                            value={1}\r\n                            defaultChecked={user.has_kids === 1}\r\n                            onChange={(e) => {\r\n                                setHasKidsReg(e.target.value);\r\n                            }}\r\n                    />\r\n                    <span> No </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"has_kids_radio\"\r\n                            value={0}\r\n                            defaultChecked={user.has_kids === 0}\r\n                            onChange={(e) => {\r\n                                setHasKidsReg(e.target.value);\r\n                            }}\r\n                    />\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have a medical condition?</div>\r\n                    <span> Yes </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"medical_condition_radio\"\r\n                            value={1}\r\n                            defaultChecked={user.medical_condition === 1}\r\n                            onChange={(e) => {\r\n                                setMedicalConditionReg(e.target.value);\r\n                            }}\r\n                    />\r\n                    <span> No </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"medical_condition_radio\"\r\n                            value={0}\r\n                            defaultChecked={user.medical_condition === 0}\r\n                            onChange={(e) => {\r\n                                setMedicalConditionReg(e.target.value);\r\n                            }}\r\n                    />\r\n\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have a mental health diagnosis?</div>\r\n                    <span> Yes </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"mental_health_radio\"\r\n                            value={1}\r\n                            defaultChecked={user.mental_health === 1}\r\n                            onChange={(e) => {\r\n                                setMentalHealthReg(e.target.value);\r\n                            }}\r\n                    />\r\n                    <span> No </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"mental_health_radio\"\r\n                            value={0}\r\n                            defaultChecked={user.mental_health === 0}\r\n                            onChange={(e) => {\r\n                                setMentalHealthReg(e.target.value);\r\n                            }}\r\n                    />\r\n\r\n\r\n                    <div className=\"pt-2 pb-2\">Do you have substance use disorder?</div>\r\n                    <span> Yes </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"substance_disorder_radio\"\r\n                            value={1}\r\n                            defaultChecked={user.substance_disorder === 1}\r\n                            onChange={(e) => {\r\n                                setSubstanceDisorderReg(e.target.value);\r\n                            }}\r\n                    />\r\n                    <span> No </span>\r\n                    <input  type= \"radio\" \r\n                            name=\"substance_disorder_radio\"\r\n                            value={0}\r\n                            defaultChecked={user.substance_disorder === 0}\r\n                            onChange={(e) => {\r\n                                setSubstanceDisorderReg(e.target.value);\r\n                            }}\r\n                    />\r\n                </div>\r\n                <div className=\"mt-3\">\r\n                <Button variant=\"primary\" className=\"cancel\" onClick={cancelEditFunc}>Cancel</Button>\r\n                <Button variant=\"primary\" className=\"submit\" onClick={edit}>Submit</Button>\r\n                </div>\r\n                </div>\r\n                )\r\n            }) : history.push(\"/login\")\r\n        }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditProfile;"]},"metadata":{},"sourceType":"module"}