{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState, useEffect } from \"react\"; // import { Link } from \"react-router-dom\";\n\nimport \"../App.css\";\nimport Axios from \"axios\"; // import { Redirect } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Nav, Navbar, Form, Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router\";\n\nfunction Login() {\n  var history = useHistory();\n\n  var axios = require(\"axios\").default;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      messageConfirm = _useState6[0],\n      setmessageConfirm = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loginStatus = _useState8[0],\n      setLoginStatus = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      logIn = _useState10[0],\n      setLogin = _useState10[1];\n\n  var textAlign = {\n    textAlign: \"left\",\n    color: \"#000000\"\n  };\n  var signUp = {\n    marginTop: \"10px\"\n  };\n  var signUpLink = {\n    color: \"#2580F6\"\n  };\n  var messageConfirmStyle = {\n    color: \"red\"\n  };\n  Axios.defaults.withCredentials = true;\n\n  var login = function login() {\n    Axios.post(\"http://localhost:3001/login\", {\n      username: username,\n      password: password\n    }).then(function (response) {\n      if (response.data.message) {\n        setLoginStatus(response.data.message);\n        setLogin(false);\n        setmessageConfirm(\"Invalid username and/or password!\");\n      } else {\n        setLoginStatus(response.data[0].username);\n        setLogin(true);\n        console.log(\"FINISHED\");\n        history.push(\"/home\");\n        window.location.reload();\n      }\n    });\n  };\n\n  useEffect(function () {\n    Axios.get(\"http://localhost:3001/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        history.push(\"/home\");\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signInHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(Navbar, {\n    className: \"navbar-custom\",\n    variant: \"dark\",\n    fixed: \"top\",\n    expand: \"lg\",\n    collapseOnSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Reentry and Corrections\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"About Us\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")))), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    style: messageConfirmStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, messageConfirm), /*#__PURE__*/React.createElement(Form.Group, {\n    style: textAlign,\n    className: \"mb-3\",\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Username\",\n    onChange: function onChange(e) {\n      setUername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    style: textAlign,\n    className: \"mb-3\",\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"fullWidth\",\n    variant: \"primary\",\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"Not a registered user?\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    style: signUpLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"Sign up\", \" \"), \" \", \"here\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, \"Forgot Password?\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/forgotpassword/\",\n    style: signUpLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Reset password\", \" \"), \" \", \"here\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/Login.js"],"names":["React","useState","useEffect","Axios","Nav","Navbar","Form","Button","useHistory","Login","history","axios","require","default","username","setUername","password","setPassword","messageConfirm","setmessageConfirm","loginStatus","setLoginStatus","logIn","setLogin","textAlign","color","signUp","marginTop","signUpLink","messageConfirmStyle","defaults","withCredentials","login","post","then","response","data","message","console","log","push","window","location","reload","get","loggedIn","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n// import { Redirect } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport { Nav, Navbar, Form, Button } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const axios = require(\"axios\").default;\r\n  const [username, setUername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [messageConfirm, setmessageConfirm] = useState(\"\");\r\n\r\n  const [loginStatus, setLoginStatus] = useState(\"\");\r\n  const [logIn, setLogin] = useState(false);\r\n  const textAlign = {\r\n    textAlign: \"left\",\r\n    color: \"#000000\",\r\n  };\r\n  const signUp = {\r\n    marginTop: \"10px\",\r\n  };\r\n  const signUpLink = {\r\n    color: \"#2580F6\",\r\n  };\r\n\r\n  const messageConfirmStyle = {\r\n    color: \"red\",\r\n  };\r\n\r\n  Axios.defaults.withCredentials = true;\r\n\r\n  const login = () => {\r\n    Axios.post(\"http://localhost:3001/login\", {\r\n      username: username,\r\n      password: password,\r\n    }).then((response) => {\r\n      if (response.data.message) {\r\n        setLoginStatus(response.data.message);\r\n        setLogin(false);\r\n        setmessageConfirm(\"Invalid username and/or password!\");\r\n      } else {\r\n        setLoginStatus(response.data[0].username);\r\n        setLogin(true);\r\n        console.log(\"FINISHED\");\r\n        history.push(\"/home\");\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n      if (response.data.loggedIn == true) {\r\n        history.push(\"/home\");\r\n      } \r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container Login\">\r\n      <div className=\"signInHeader\">Log In</div>\r\n      <Navbar\r\n        className = \"navbar-custom\"\r\n        variant=\"dark\"\r\n        fixed=\"top\"\r\n        expand=\"lg\"\r\n        collapseOnSelect\r\n      >\r\n        <Navbar.Brand>Reentry and Corrections</Navbar.Brand>\r\n        <Navbar.Toggle />\r\n        <Navbar.Collapse>\r\n          <Nav>\r\n            <Nav.Link href=\"/about\">About Us</Nav.Link>\r\n            <Nav.Link href=\"/register\">Sign Up</Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n      <Form>\r\n      <Form.Label style={messageConfirmStyle}>{messageConfirm}</Form.Label>\r\n        <Form.Group\r\n          style={textAlign}\r\n          className=\"mb-3\"\r\n          controlId=\"formBasicEmail\"\r\n        >\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            onChange={(e) => {\r\n              setUername(e.target.value);\r\n            }}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group\r\n          style={textAlign}\r\n          className=\"mb-3\"\r\n          controlId=\"formBasicPassword\"\r\n        >\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n          />\r\n        </Form.Group>\r\n        <Button className=\"fullWidth\" variant=\"primary\" onClick={login}>\r\n          Login\r\n        </Button>\r\n        <div style={signUp}>\r\n          Not a registered user?{\" \"}\r\n          <a href=\"/register\" style={signUpLink}>\r\n            Sign up{\" \"}\r\n          </a>{\" \"}\r\n          here\r\n        </div>\r\n        <div style={signUp}>\r\n          Forgot Password?{\" \"}\r\n          <a href=\"/forgotpassword/\" style={signUpLink}>\r\n            Reset password{\" \"}\r\n          </a>{\" \"}\r\n          here\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}