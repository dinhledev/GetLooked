{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Axios from \"axios\"; //import { withCookies, Cookies } from 'react-cookie';\n\nimport Cookies from 'js-cookie';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Nav, Navbar, NavDropdown, NavItem, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router';\n\nfunction Profile() {\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedInUser = _useState2[0],\n      setLoginUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      profileData = _useState6[0],\n      setProfileData = _useState6[1];\n\n  var cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/) || [, null])[1];\n  Axios.defaults.withCredentials = true;\n\n  var logoutUser = function logoutUser() {\n    Axios.post('http://localhost:3001/logout', {}, {\n      withCredentials: 'true'\n    });\n    history.push(\"/login\");\n    window.location.reload();\n  };\n\n  var editProfileFunc = function editProfileFunc() {\n    history.push(\"/editProfile\");\n    window.location.reload();\n  };\n\n  useEffect(function () {\n    Axios.get(\"http://localhost:3001/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        setLoginUser(response.data.user[0].username);\n        setData(response.data);\n      }\n    });\n    Axios.get(\"http://localhost:3001/profile\").then(function (response) {\n      setProfileData(response.data);\n      console.log(response);\n    });\n\n    if (loggedInUser.length > 0) {\n      console.log(\"User Logged In\");\n    } else {\n      console.log(\"user not logged in\");\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"success\",\n    variant: \"dark\",\n    fixed: \"top\",\n    expand: \"lg\",\n    collapseOnSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }\n  }, \"Reentry and Corrections\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(NavDropdown, {\n    title: \"Organizations\",\n    id: \"navbarScrollingDropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/housing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Housing Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/employment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Employment Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/food\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Food Organizations\")), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Favorites\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    onClick: logoutUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \" logout \")))), profileData.length >= 0 ? profileData.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container Profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, loggedInUser, \"'s Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Date of Birth : \", user.dob.length > 0 ? user.dob : 'N/A'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Facility Name : \", user.facility_name.length > 0 ? user.facility_name : 'N/A'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"Offense : \", user.offense.length > 0 ? user.offense : 'N/A'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, \"Sentence Length : \", user.sentence_length > 0 ? user.sentence_length + '&nbsp; year(s)' : 'N/A'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"SSN : \", user.ssn > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Photo Id : \", user.photo_id > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, \"Birth Certificate : \", user.birth_certificate > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Gender : \", user.gender.length > 0 ? user.gender : 'N/A'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Dom violence : \", user.dom_violence > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Has kids : \", user.has_kids > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"Medical Condition : \", user.medical_condition > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Mental Health : \", user.mental_health > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \"Substance Disorder : \", user.substance_disorder > 0 ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(Button, {\n      className: \"edit\",\n      variant: \"primary\",\n      onClick: editProfileFunc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"Edit\")));\n  }) : history.push(\"/login\"));\n}\n\nexport default Profile;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/Profile.js"],"names":["React","useState","useEffect","Axios","Cookies","Nav","Navbar","NavDropdown","NavItem","Button","useHistory","Profile","history","loggedInUser","setLoginUser","data","setData","profileData","setProfileData","cookieExists","document","cookie","match","defaults","withCredentials","logoutUser","post","push","window","location","reload","editProfileFunc","get","then","response","loggedIn","user","username","console","log","length","map","dob","facility_name","offense","sentence_length","ssn","photo_id","birth_certificate","gender","dom_violence","has_kids","medical_condition","mental_health","substance_disorder"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n//import { withCookies, Cookies } from 'react-cookie';\r\nimport Cookies from 'js-cookie';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Nav, Navbar, NavDropdown, NavItem, Button} from 'react-bootstrap';\r\nimport { useHistory } from 'react-router'\r\n\r\nfunction Profile(){\r\n    const history = useHistory();\r\n    const [loggedInUser, setLoginUser] = useState(\"\");\r\n    const [data, setData] = useState(\"\")\r\n    const [profileData, setProfileData] = useState([])\r\n    const cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/)||[,null])[1]\r\n\r\n    Axios.defaults.withCredentials = true;\r\n\r\n    const logoutUser = () => {\r\n        Axios.post('http://localhost:3001/logout', { } , { withCredentials: 'true' });\r\n        history.push(\"/login\");\r\n        window.location.reload();\r\n    }\r\n\r\n    const editProfileFunc = () => {\r\n        history.push(\"/editProfile\");\r\n        window.location.reload();\r\n    }\r\n\r\n    useEffect(()=> {\r\n        Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n           if (response.data.loggedIn == true){\r\n              setLoginUser(response.data.user[0].username)\r\n              setData(response.data)\r\n           }\r\n        })\r\n\r\n        Axios.get(\"http://localhost:3001/profile\").then((response) => {\r\n            setProfileData(response.data)\r\n            console.log(response)\r\n        })\r\n\r\n        if (loggedInUser.length > 0){\r\n            console.log(\"User Logged In\")\r\n        }\r\n        else{\r\n            console.log(\"user not logged in\")\r\n        }\r\n     }, []);\r\n\r\n    \r\n    \r\n    return(\r\n        <div className=\"\">\r\n        <Navbar bg=\"success\" variant=\"dark\" fixed=\"top\" expand=\"lg\" collapseOnSelect>\r\n         <Navbar.Brand>Reentry and Corrections</Navbar.Brand>\r\n         <Navbar.Toggle />\r\n         <Navbar.Collapse>\r\n         <Nav>\r\n            <Nav.Link href=\"/home\">Home</Nav.Link>\r\n            <NavDropdown title=\"Organizations\" id=\"navbarScrollingDropdown\">\r\n                <NavDropdown.Item href=\"/housing\">Housing Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/employment\">Employment Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/food\">Food Organizations</NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"/favorites\">Favorites</Nav.Link>\r\n            <Nav.Link href=\"/profile\">Profile</Nav.Link>\r\n            <Nav.Link onClick={logoutUser}> logout </Nav.Link>\r\n         </Nav>\r\n         </Navbar.Collapse>\r\n      </Navbar>\r\n            {profileData.length >= 0 ?\r\n            profileData.map(function(user){\r\n                \r\n                return (\r\n                    \r\n                <div className=\"container Profile\">\r\n                <div className=\"header\">{loggedInUser}'s Profile</div>\r\n                <div className=\"body\"> \r\n                <div className=\"section\">Date of Birth : {user.dob.length > 0 ? user.dob : 'N/A'}</div>\r\n                <div className=\"section\">Facility Name : {user.facility_name.length > 0 ? user.facility_name : 'N/A'}</div>\r\n                <div className=\"section\">Offense : {user.offense.length > 0 ? user.offense : 'N/A'}</div>\r\n                <div className=\"section\">Sentence Length : {user.sentence_length > 0 ? user.sentence_length + '&nbsp; year(s)' : 'N/A'}</div>\r\n                <div className=\"section\">SSN : {user.ssn > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Photo Id : {user.photo_id > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Birth Certificate : {user.birth_certificate > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Gender : {user.gender.length > 0 ? user.gender : 'N/A'}</div>\r\n                <div className=\"section\">Dom violence : {user.dom_violence > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Has kids : {user.has_kids > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Medical Condition : {user.medical_condition > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Mental Health : {user.mental_health > 0 ? 'Yes' : 'No'}</div>\r\n                <div className=\"section\">Substance Disorder : {user.substance_disorder > 0 ? 'Yes' : 'No'}</div>\r\n\r\n\r\n                <Button className=\"edit\" variant=\"primary\" onClick={editProfileFunc}>Edit</Button>\r\n                </div>\r\n                </div>\r\n                )\r\n            }) : history.push(\"/login\")\r\n        }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}