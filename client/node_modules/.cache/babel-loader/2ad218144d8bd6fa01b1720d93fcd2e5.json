{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../App.css\";\nimport Axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Nav, Navbar, Form, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router';\n\nfunction Login() {\n  var history = useHistory();\n\n  var axios = require('axios').default;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loginStatus = _useState6[0],\n      setLoginStatus = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      logIn = _useState8[0],\n      setLogin = _useState8[1];\n\n  var textAlign = {\n    textAlign: 'left',\n    color: '#000000'\n  };\n  var signUp = {\n    marginTop: '10px'\n  };\n  var signUpLink = {\n    color: '#2580F6'\n  };\n  Axios.defaults.withCredentials = true;\n\n  var login = function login() {\n    Axios.post(\"http://localhost:3001/login\", {\n      username: username,\n      password: password\n    }).then(function (response) {\n      if (response.data.message) {\n        setLoginStatus(response.data.message);\n        setLogin(false);\n      } else {\n        setLoginStatus(response.data[0].username);\n        setLogin(true);\n        console.log(\"FINISHED\");\n        history.push(\"/home\");\n        window.location.reload();\n      }\n    });\n  };\n\n  useEffect(function () {\n    Axios.get(\"http://localhost:3001/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        setLoginStatus(response.data.user[0].username);\n      }\n    });\n    console.log(\"HERERERE\");\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signInHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"success\",\n    variant: \"dark\",\n    fixed: \"top\",\n    expand: \"lg\",\n    collapseOnSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 10\n    }\n  }, \"Reentry and Corrections\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"About Us\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")))), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    style: textAlign,\n    className: \"mb-3\",\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Username\",\n    onChange: function onChange(e) {\n      setUername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    style: textAlign,\n    className: \"mb-3\",\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 10\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"fullWidth\",\n    variant: \"primary\",\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"Not a registered user? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    style: signUpLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 50\n    }\n  }, \"Sign up \"), \" here\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, \"Forgot Password? \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/forgotpassword/\",\n    style: signUpLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 44\n    }\n  }, \"Reset password \"), \" here\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/courses?sort={userName}\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/Login.js"],"names":["React","useState","useEffect","Link","Axios","Redirect","Nav","Navbar","Form","Button","useHistory","Login","history","axios","require","default","username","setUername","password","setPassword","loginStatus","setLoginStatus","logIn","setLogin","textAlign","color","signUp","marginTop","signUpLink","defaults","withCredentials","login","post","then","response","data","message","console","log","push","window","location","reload","get","loggedIn","user","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Nav, Navbar, Form, Button} from 'react-bootstrap';\r\nimport { useHistory } from 'react-router'\r\n\r\n \r\nfunction Login() {\r\n\r\n  const history = useHistory();\r\n  const axios = require('axios').default;\r\n  const [username, setUername] = useState(\"\");\r\n  const [password, setPassword] = useState (\"\");\r\n\r\n  const [loginStatus, setLoginStatus] = useState(\"\");\r\n  const [logIn, setLogin] = useState(false);\r\n  const textAlign = {\r\n   textAlign: 'left',\r\n   color: '#000000',\r\n  };\r\n  const signUp = {\r\n   marginTop: '10px',\r\n  };\r\n  const signUpLink = {\r\n   color: '#2580F6',\r\n  };\r\n  Axios.defaults.withCredentials = true;\r\n  \r\n   const login = () => {\r\n    Axios.post(\"http://localhost:3001/login\", {\r\n       username: username,\r\n       password: password,\r\n    }).then((response) => {\r\n       if (response.data.message) {\r\n          setLoginStatus(response.data.message);\r\n          setLogin(false);\r\n       } else {\r\n          setLoginStatus(response.data[0].username);\r\n          setLogin(true);\r\n          console.log(\"FINISHED\")\r\n          history.push(\"/home\");\r\n          window.location.reload();\r\n       }\r\n    });\r\n    };\r\n\r\n   useEffect(()=> {\r\n      Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n         if (response.data.loggedIn == true){\r\n            setLoginStatus(response.data.user[0].username)\r\n         }\r\n      })\r\n      console.log(\"HERERERE\")\r\n   }, []);\r\n\r\n\r\n   return (\r\n     <div className=\"container Login\">\r\n      <div className=\"signInHeader\">Log In</div>\r\n      <Navbar bg=\"success\" variant=\"dark\" fixed=\"top\" expand=\"lg\" collapseOnSelect>\r\n         <Navbar.Brand>Reentry and Corrections</Navbar.Brand>\r\n         <Navbar.Toggle />\r\n         <Navbar.Collapse>\r\n         <Nav>\r\n            <Nav.Link href=\"/about\">About Us</Nav.Link>\r\n            <Nav.Link href=\"/register\">Sign Up</Nav.Link>\r\n         </Nav>\r\n         </Navbar.Collapse>\r\n      </Navbar>\r\n      <Form>\r\n         <Form.Group style={textAlign} className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"Username\"\r\n               onChange={\r\n                  (e) => { \r\n                     setUername(e.target.value);\r\n                   }\r\n                }\r\n             />\r\n         </Form.Group>\r\n\r\n      <Form.Group style={textAlign} className=\"mb-3\" controlId=\"formBasicPassword\">\r\n         <Form.Label>Password</Form.Label>\r\n         <Form.Control \r\n         type=\"password\" placeholder=\"Password\"\r\n         onChange={(e) => {\r\n            setPassword(e.target.value);\r\n         }} \r\n         />\r\n      </Form.Group>\r\n      <Button \r\n      className=\"fullWidth\"\r\n      variant=\"primary\"\r\n      onClick={login}\r\n      >\r\n      Login\r\n      </Button>\r\n      <div style={signUp}>Not a registered user? <a href=\"/register\" style={signUpLink}>Sign up </a> here</div>\r\n      <div style={signUp}>Forgot Password? <a href=\"/forgotpassword/\" style={signUpLink}>Reset password </a> here</div>\r\n      <Link to=\"/courses?sort={userName}\" />\r\n      </Form>\r\n     </div>\r\n   );\r\n}\r\n \r\nexport default Login;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}