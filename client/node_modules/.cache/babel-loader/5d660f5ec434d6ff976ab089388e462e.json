{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\Favorites.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Axios from \"axios\"; //import { withCookies, Cookies } from 'react-cookie';\n\nimport Cookies from 'js-cookie';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Nav, Navbar, NavDropdown, NavItem, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router';\nimport classNames from \"classnames\";\n\nfunction Favorites() {\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedInUser = _useState2[0],\n      setLoginUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      orgData = _useState6[0],\n      setOrgData = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      unit_org = _useState8[0],\n      setUnitOrgData = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      active = _useState10[0],\n      setActive = _useState10[1];\n\n  Axios.defaults.withCredentials = true;\n  var cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/) || [, null])[1];\n\n  var logoutUser = function logoutUser() {\n    Axios.post('http://localhost:3001/logout', {}, {\n      withCredentials: 'true'\n    });\n    history.push(\"/login\");\n    window.location.reload();\n  };\n\n  var getOrganizations = function getOrganizations(id) {\n    Axios.get(\"http://localhost:3001/favorites/\" + id).then(function (response) {\n      setActive(id);\n      setUnitOrgData(response.data[0]);\n    });\n  };\n\n  var checkActive = function checkActive(id) {\n    return id === active;\n  }; // const addToFavorites = ()  => {\n  //     Axios.post(\"http://localhost:3001/favorites/\", {\n  //         name: 'Calvary Services',\n  //         organization_id: 1\n  //       })\n  //       .then(function (response) {\n  //         console.log(response);\n  //       })\n  //       .catch(function (error) {\n  //         console.log(error);\n  //       });\n  // } \n  // const removeFromFavorites = ()  => {\n  //     Axios.delete(\"http://localhost:3001/favorites/\", {\n  //         data: {\n  //           name: 'Housing Services',\n  //           organization_id: 2\n  //         }\n  //       })\n  //       .then(function (response) {\n  //         console.log(response);\n  //       })\n  //       .catch(function (error) {\n  //         console.log(error);\n  //       });\n  // }\n\n\n  var isFavorite = function isFavorite(id) {\n    for (var i = 0; i < favData.length; i++) {\n      if (favData[i].org_id === id) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  useEffect(function () {\n    Axios.get(\"http://localhost:3001/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        setLoginUser(response.data.user[0].username);\n        setData(response.data);\n      }\n    });\n    Axios.get(\"http://localhost:3001/favorites/\").then(function (response) {\n      setOrgData(response.data);\n      console.log(response.data); // removeFromFavorites()\n\n      getOrganizations(response.data[0].org_id);\n    });\n  }, []);\n\n  if (loggedInUser.length > 0) {\n    console.log(\"User Logged In\");\n  } else {\n    console.log(\"user not logged in\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"success\",\n    variant: \"dark\",\n    fixed: \"top\",\n    expand: \"lg\",\n    collapseOnSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 10\n    }\n  }, \"Reentry and Corrections\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(NavDropdown, {\n    title: \"Organizations\",\n    id: \"navbarScrollingDropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/housing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"Housing Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/employment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Employment Organizations\"), /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"/food\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"Food Organizations\")), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/favorites\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Favorites\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    href: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(Nav.Link, {\n    onClick: logoutUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \" logout \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"singleDisplay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disp1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, orgData.map(function (org) {\n    if (loggedInUser.length == 0) {\n      history.push(\"/login\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return getOrganizations(org.org_id);\n      },\n      className: classNames({\n        ldisp: true,\n        active: checkActive(org.org_id)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, org.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, org.type));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disp2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"root\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"child\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    onClick: function onClick() {\n      return changeStatus(unit_org);\n    },\n    icon: isFavorite(unit_org.org_id) ? fasB : farB,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, \"Organization\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, unit_org.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, unit_org.address)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Zip Code\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, unit_org.zip_code)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, unit_org.type)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, unit_org.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, \"Services\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, unit_org.services)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, \"Criteria\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"secsubttl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, unit_org.criteria)))));\n}\n\nexport default Favorites;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/Favorites.js"],"names":["React","useState","useEffect","Axios","Cookies","Nav","Navbar","NavDropdown","NavItem","Button","useHistory","classNames","Favorites","history","loggedInUser","setLoginUser","data","setData","orgData","setOrgData","unit_org","setUnitOrgData","active","setActive","defaults","withCredentials","cookieExists","document","cookie","match","logoutUser","post","push","window","location","reload","getOrganizations","id","get","then","response","checkActive","isFavorite","i","favData","length","org_id","loggedIn","user","username","console","log","map","org","ldisp","name","type","changeStatus","fasB","farB","address","zip_code","description","services","criteria"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n//import { withCookies, Cookies } from 'react-cookie';\r\nimport Cookies from 'js-cookie';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { Nav, Navbar, NavDropdown, NavItem, Button } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router'\r\nimport classNames from \"classnames\";\r\n\r\nfunction Favorites(){\r\n  const history = useHistory();\r\n  const [loggedInUser, setLoginUser] = useState(\"\");\r\n  const [data, setData] = useState(\"\")\r\n  const [orgData, setOrgData] = useState([])\r\n  const [unit_org, setUnitOrgData] = useState([])\r\n  const [active, setActive] = useState(false)\r\n\r\n  Axios.defaults.withCredentials = true;\r\n  const cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/)||[,null])[1]\r\n\r\n\r\n    const logoutUser = () => {\r\n        Axios.post('http://localhost:3001/logout', { } , { withCredentials: 'true' });\r\n        history.push(\"/login\");\r\n        window.location.reload();\r\n        \r\n    }\r\n\r\n    const getOrganizations = (id) => {\r\n      Axios.get(\"http://localhost:3001/favorites/\" + id).then((response) => {\r\n          setActive(id)\r\n          setUnitOrgData(response.data[0])\r\n      })\r\n    }\r\n\r\n    const checkActive = (id) => {\r\n      return id === active\r\n    }\r\n\r\n    // const addToFavorites = ()  => {\r\n    //     Axios.post(\"http://localhost:3001/favorites/\", {\r\n    //         name: 'Calvary Services',\r\n    //         organization_id: 1\r\n    //       })\r\n    //       .then(function (response) {\r\n    //         console.log(response);\r\n    //       })\r\n    //       .catch(function (error) {\r\n    //         console.log(error);\r\n    //       });\r\n    // } \r\n\r\n    // const removeFromFavorites = ()  => {\r\n    //     Axios.delete(\"http://localhost:3001/favorites/\", {\r\n    //         data: {\r\n    //           name: 'Housing Services',\r\n    //           organization_id: 2\r\n    //         }\r\n    //       })\r\n    //       .then(function (response) {\r\n    //         console.log(response);\r\n    //       })\r\n    //       .catch(function (error) {\r\n    //         console.log(error);\r\n    //       });\r\n    // }\r\n\r\n    \r\n    const isFavorite = (id) => {\r\n        for (let i = 0; i < favData.length; i++){\r\n            if(favData[i].org_id === id){\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n\r\n    useEffect(()=> {\r\n        Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n           if (response.data.loggedIn == true){\r\n              setLoginUser(response.data.user[0].username)\r\n              setData(response.data)\r\n           }\r\n        })\r\n\r\n        Axios.get(\"http://localhost:3001/favorites/\").then((response) => {\r\n          setOrgData(response.data)\r\n          console.log(response.data)\r\n          // removeFromFavorites()\r\n          getOrganizations(response.data[0].org_id)\r\n        })\r\n\r\n     }, []);\r\n\r\n    if (loggedInUser.length > 0){\r\n        console.log(\"User Logged In\")\r\n    }\r\n    else{\r\n        console.log(\"user not logged in\")\r\n    }\r\n    return(\r\n      <div className=\"profile\">\r\n        <Navbar bg=\"success\" variant=\"dark\" fixed=\"top\" expand=\"lg\" collapseOnSelect>\r\n         <Navbar.Brand>Reentry and Corrections</Navbar.Brand>\r\n         <Navbar.Toggle />\r\n         <Navbar.Collapse>\r\n         <Nav>\r\n            <Nav.Link href=\"/home\">Home</Nav.Link>\r\n            <NavDropdown title=\"Organizations\" id=\"navbarScrollingDropdown\">\r\n                <NavDropdown.Item href=\"/housing\">Housing Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/employment\">Employment Organizations</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/food\">Food Organizations</NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"/favorites\">Favorites</Nav.Link>\r\n            <Nav.Link href=\"/profile\">Profile</Nav.Link>\r\n            <Nav.Link onClick={logoutUser}> logout </Nav.Link>\r\n         </Nav>\r\n         \r\n         </Navbar.Collapse>\r\n      </Navbar>\r\n      <div className=\"singleDisplay\">\r\n            <div className=\"disp1\">\r\n            {orgData.map(function(org){\r\n                if(loggedInUser.length == 0){\r\n                    history.push(\"/login\")\r\n                }\r\n                return (\r\n                    <div onClick={() => getOrganizations(org.org_id)} className={classNames({\r\n                        ldisp: true,\r\n                        active: checkActive(org.org_id),\r\n                      })}>\r\n                        <div className=\"ttl\">{org.name}</div>\r\n                        <div className=\"subttl\">{org.type}</div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n            </div>\r\n            <div className=\"disp2\">\r\n\r\n                <div className=\"root\">\r\n                <span className=\"child\">\r\n                    <FontAwesomeIcon onClick={() => changeStatus(unit_org)} icon={isFavorite(unit_org.org_id) ? fasB: farB} />\r\n                </span>\r\n                </div>\r\n\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Organization</div>\r\n                    <div className=\"secsubttl\">{unit_org.name}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Address</div>\r\n                    <div className=\"secsubttl\">{unit_org.address}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Zip Code</div>\r\n                    <div className=\"secsubttl\">{unit_org.zip_code}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Type</div>\r\n                    <div className=\"secsubttl\">{unit_org.type}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Description</div>\r\n                    <div className=\"secsubttl\">{unit_org.description}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Services</div>\r\n                    <div className=\"secsubttl\">{unit_org.services}</div>\r\n                </div>\r\n                <div className=\"section\">\r\n                    <div className=\"secttl\">Criteria</div>\r\n                    <div className=\"secsubttl\">{unit_org.criteria}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Favorites;"]},"metadata":{},"sourceType":"module"}