{"ast":null,"code":"import _slicedToArray from \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\dinhle\\\\job\\\\GMU_RESEARCH\\\\repos\\\\rac\\\\client\\\\src\\\\components\\\\HousingPlan.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport Axios from \"axios\"; //import { withCookies, Cookies } from 'react-cookie';\n\nimport Cookies from \"js-cookie\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Nav, Navbar, NavDropdown, NavItem, Card, Button } from \"react-bootstrap\";\nimport { Redirect } from \"react-router\";\nimport { useHistory } from \"react-router\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport favorites from \"../images/favorites.jpg\";\nimport classNames from \"classnames\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBookmark as fasB } from \"@fortawesome/free-solid-svg-icons\";\nimport { faBookmark as farB } from \"@fortawesome/free-regular-svg-icons\";\nimport Popup from \"../common/Popup\";\nimport CommonNav from \"../common/CommonNav\";\nimport { useGlobalConfigContext } from \"../App\";\nimport Pagination from \"react-bootstrap/Pagination\";\n\nfunction HousingPlan() {\n  var serverDomain = useGlobalConfigContext()[\"serverDomain\"];\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedInUser = _useState2[0],\n      setLoginUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      unit_org = _useState6[0],\n      setUnitOrgData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      active = _useState8[0],\n      setActive = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      favData = _useState10[0],\n      setFavData = _useState10[1];\n\n  Axios.defaults.withCredentials = true;\n  var cookieExists = (document.cookie.match(/^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/) || [, null])[1];\n  /* add by dinhle */\n  // const for paging\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      offset = _useState12[0],\n      setOffset = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      orgData = _useState14[0],\n      setOrgData = _useState14[1];\n\n  var _useState15 = useState(3),\n      _useState16 = _slicedToArray(_useState15, 1),\n      perPage = _useState16[0];\n\n  var _useState17 = useState(0),\n      _useState18 = _slicedToArray(_useState17, 2),\n      pageCount = _useState18[0],\n      setPageCount = _useState18[1];\n\n  var _useState19 = useState(1),\n      _useState20 = _slicedToArray(_useState19, 2),\n      selectedPage = _useState20[0],\n      setselectedPage = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      totalOrg = _useState22[0],\n      setTotalOrg = _useState22[1];\n\n  var nextClickPaging = function nextClickPaging(e) {\n    setOffset(offset + perPage);\n    setselectedPage(selectedPage + 1);\n  };\n\n  var lastClickPaging = function lastClickPaging(e) {\n    if (totalOrg % perPage == 0) {\n      setOffset(totalOrg - perPage);\n    } else {\n      setOffset(totalOrg - totalOrg % perPage);\n    }\n\n    setselectedPage(pageCount);\n  };\n\n  var preClickPaging = function preClickPaging(e) {\n    setOffset(offset - perPage);\n    setselectedPage(selectedPage - 1);\n  };\n\n  var firstClickPaging = function firstClickPaging(e) {\n    setOffset(0);\n    setselectedPage(1);\n  }; // end const for paging\n\n\n  var logoutUser = function logoutUser() {\n    Axios.post(serverDomain + \"/logout\", {}, {\n      withCredentials: \"true\"\n    });\n    history.push(\"/login\");\n    window.location.reload();\n  };\n\n  var getOrganizations = function getOrganizations(id) {\n    Axios.get(serverDomain + \"/favorites/\" + id).then(function (response) {\n      setActive(id);\n      setUnitOrgData(response.data[0]);\n    });\n  };\n\n  var checkActive = function checkActive(id) {\n    return id === active;\n  };\n\n  useEffect(function () {\n    Axios.get(serverDomain + \"/login\").then(function (response) {\n      if (response.data.loggedIn == true) {\n        setLoginUser(response.data.user[0].username);\n        setData(response.data);\n        Axios.get(serverDomain + \"/favorites/housingPlanAll/\").then(function (response) {\n          console.log(\"size \" + response.data.length);\n          setTotalOrg(response.data.length);\n          setPageCount(Math.ceil(response.data.length / perPage));\n        });\n        Axios.post(serverDomain + \"/favorites/housingPlanPaging/\", {\n          offset: offset,\n          perPage: perPage\n        }).then(function (response) {\n          setOrgData(response.data);\n          console.log(response.data);\n        });\n      } else {\n        history.push(\"/login\");\n      }\n    });\n  }, [offset]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CommonNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    className: \"cardTitleCustom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Housing Plan\"))))), totalOrg > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"homeDisplay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disp1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Total Organizations: \", totalOrg), orgData.map(function (org) {\n    if (loggedInUser.length == 0) {\n      history.push(\"/login\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return getOrganizations(org.org_id);\n      },\n      className: classNames({\n        ldisp: true,\n        active: checkActive(org.org_id)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, org.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, org.address), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, org.type));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagingWrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, selectedPage <= 1 ? /*#__PURE__*/React.createElement(Pagination.First, {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Pagination.First, {\n    onClick: function onClick() {\n      return firstClickPaging();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }), selectedPage <= 1 ? /*#__PURE__*/React.createElement(Pagination.Prev, {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Pagination.Prev, {\n    onClick: function onClick() {\n      return preClickPaging();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Pagination.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, \"page \", selectedPage, \" of \", pageCount), selectedPage >= pageCount ? /*#__PURE__*/React.createElement(Pagination.Next, {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Pagination.Next, {\n    onClick: function onClick() {\n      return nextClickPaging();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }), selectedPage >= pageCount ? /*#__PURE__*/React.createElement(Pagination.Last, {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Pagination.Last, {\n    onClick: function onClick() {\n      return lastClickPaging();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disp2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Finding housing in your area starts with you\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"To find local housing resources (i.e., websites and organizations that can help you), search online using phrases such as \\u201CApartments for rent in (fill in your town).\\u201D This should bring up a list of housing websites and organizations that can help you find the best housing fit for you.\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"singleDisplay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, \"There is no favorites\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, \"FAQ\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, \"1. What is public housing?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, \"Public housing programs are run by the U.S. Department of Housing and Urban Development also referred to as HUD, which provides safe and decent housing for low-income families, the elderly, and people with disabilities. Some people may not be eligible for public housing based on their criminal record; check with the staff member you are working with to make sure you are eligible to apply.\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, \"How can I apply for public housing?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, \"The U.S. Department of Housing and Urban Development was created to provide quality and affordable housing for all Americans. Click on the \\u201CState Info\\u201D link and find your state for a more detailed look at how HUD can help you. If you are interested in getting assistance with finding housing, head over to http://www.hud.gov/offices/hsg/sfh/hcc/hcs.cfm.\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, \"What are Section 8 Vouchers?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, \"Public Housing Agencies can provide help obtaining public housing or Section 8 vouchers. These vouchers can be used to help you pay rent in private apartments. Most housing assistance programs are local, meaning that you need to find out what programs exist in your area. You can find your local public housing agency by searching online using terms such as \\u201C(your town or city\\u2019s) Public Housing Agency.\\u201D\")));\n}\n\nexport default HousingPlan;","map":{"version":3,"sources":["E:/dinhle/job/GMU_RESEARCH/repos/rac/client/src/components/HousingPlan.js"],"names":["React","useState","useEffect","Axios","Cookies","Nav","Navbar","NavDropdown","NavItem","Card","Button","Redirect","useHistory","BrowserRouter","Router","Switch","Route","favorites","classNames","FontAwesomeIcon","faBookmark","fasB","farB","Popup","CommonNav","useGlobalConfigContext","Pagination","HousingPlan","serverDomain","history","loggedInUser","setLoginUser","data","setData","unit_org","setUnitOrgData","active","setActive","favData","setFavData","defaults","withCredentials","cookieExists","document","cookie","match","offset","setOffset","orgData","setOrgData","perPage","pageCount","setPageCount","selectedPage","setselectedPage","totalOrg","setTotalOrg","nextClickPaging","e","lastClickPaging","preClickPaging","firstClickPaging","logoutUser","post","push","window","location","reload","getOrganizations","id","get","then","response","checkActive","loggedIn","user","username","console","log","length","Math","ceil","cursor","map","org","org_id","ldisp","name","address","type"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,kCAAP;AACA,SACEC,GADF,EAEEC,MAFF,EAGEC,WAHF,EAIEC,OAJF,EAKEC,IALF,EAMEC,MANF,QAOO,iBAPP;AAQA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,kBAAvD;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,UAAU,IAAIC,IAAvB,QAAmC,mCAAnC;AACA,SAASD,UAAU,IAAIE,IAAvB,QAAmC,qCAAnC;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAASC,sBAAT,QAAuC,QAAvC;AACA,OAAOC,UAAP,MAAuB,4BAAvB;;AAEA,SAASC,WAAT,GAAuB;AACrB,MAAMC,YAAY,GAAKH,sBAAsB,GAAG,cAAH,CAA7C;AACA,MAAMI,OAAO,GAAGjB,UAAU,EAA1B;;AAFqB,kBAGgBX,QAAQ,CAAC,EAAD,CAHxB;AAAA;AAAA,MAGd6B,YAHc;AAAA,MAGAC,YAHA;;AAAA,mBAIG9B,QAAQ,CAAC,EAAD,CAJX;AAAA;AAAA,MAId+B,IAJc;AAAA,MAIRC,OAJQ;;AAAA,mBAKchC,QAAQ,CAAC,EAAD,CALtB;AAAA;AAAA,MAKdiC,QALc;AAAA,MAKJC,cALI;;AAAA,mBAMOlC,QAAQ,CAAC,KAAD,CANf;AAAA;AAAA,MAMdmC,MANc;AAAA,MAMNC,SANM;;AAAA,mBAOSpC,QAAQ,CAAC,EAAD,CAPjB;AAAA;AAAA,MAOdqC,OAPc;AAAA,MAOLC,UAPK;;AASrBpC,EAAAA,KAAK,CAACqC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,MAAMC,YAAY,GAAG,CAACC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CACpB,0CADoB,KAEjB,GAAG,IAAH,CAFgB,EAEN,CAFM,CAArB;AAGA;AACA;;AAdqB,oBAeO5C,QAAQ,CAAC,CAAD,CAff;AAAA;AAAA,MAed6C,MAfc;AAAA,MAeNC,SAfM;;AAAA,oBAgBS9C,QAAQ,CAAC,EAAD,CAhBjB;AAAA;AAAA,MAgBd+C,OAhBc;AAAA,MAgBLC,UAhBK;;AAAA,oBAiBHhD,QAAQ,CAAC,CAAD,CAjBL;AAAA;AAAA,MAiBdiD,OAjBc;;AAAA,oBAkBajD,QAAQ,CAAC,CAAD,CAlBrB;AAAA;AAAA,MAkBdkD,SAlBc;AAAA,MAkBHC,YAlBG;;AAAA,oBAmBmBnD,QAAQ,CAAC,CAAD,CAnB3B;AAAA;AAAA,MAmBdoD,YAnBc;AAAA,MAmBAC,eAnBA;;AAAA,oBAoBWrD,QAAQ,CAAC,CAAD,CApBnB;AAAA;AAAA,MAoBdsD,QApBc;AAAA,MAoBJC,WApBI;;AAqBrB,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAAO;AAC7BX,IAAAA,SAAS,CAACD,MAAM,GAAGI,OAAV,CAAT;AACAI,IAAAA,eAAe,CAACD,YAAY,GAAG,CAAhB,CAAf;AACD,GAHD;;AAIA,MAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAACD,CAAD,EAAO;AAC7B,QAAIH,QAAQ,GAAGL,OAAX,IAAsB,CAA1B,EAA6B;AAC3BH,MAAAA,SAAS,CAACQ,QAAQ,GAAGL,OAAZ,CAAT;AACD,KAFD,MAEO;AACLH,MAAAA,SAAS,CAACQ,QAAQ,GAAIA,QAAQ,GAAGL,OAAxB,CAAT;AACD;;AACDI,IAAAA,eAAe,CAACH,SAAD,CAAf;AACD,GAPD;;AASA,MAAMS,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD,EAAO;AAC5BX,IAAAA,SAAS,CAACD,MAAM,GAAGI,OAAV,CAAT;AACAI,IAAAA,eAAe,CAACD,YAAY,GAAG,CAAhB,CAAf;AACD,GAHD;;AAIA,MAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACH,CAAD,EAAO;AAC9BX,IAAAA,SAAS,CAAC,CAAD,CAAT;AACAO,IAAAA,eAAe,CAAC,CAAD,CAAf;AACD,GAHD,CAtCqB,CA0CrB;;;AAEA,MAAMQ,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB3D,IAAAA,KAAK,CAAC4D,IAAN,CAAYnC,YAAY,GAAC,SAAzB,EAAoC,EAApC,EAAwC;AAAEa,MAAAA,eAAe,EAAE;AAAnB,KAAxC;AACAZ,IAAAA,OAAO,CAACmC,IAAR,CAAa,QAAb;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,GAJD;;AAMA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,EAAD,EAAQ;AAC/BlE,IAAAA,KAAK,CAACmE,GAAN,CAAW1C,YAAY,GAAC,aAAb,GAA6ByC,EAAxC,EAA4CE,IAA5C,CAAiD,UAACC,QAAD,EAAc;AAC7DnC,MAAAA,SAAS,CAACgC,EAAD,CAAT;AACAlC,MAAAA,cAAc,CAACqC,QAAQ,CAACxC,IAAT,CAAc,CAAd,CAAD,CAAd;AACD,KAHD;AAID,GALD;;AAOA,MAAMyC,WAAW,GAAG,SAAdA,WAAc,CAACJ,EAAD,EAAQ;AAC1B,WAAOA,EAAE,KAAKjC,MAAd;AACD,GAFD;;AAKAlC,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,KAAK,CAACmE,GAAN,CAAW1C,YAAY,GAAC,QAAxB,EAAkC2C,IAAlC,CAAuC,UAACC,QAAD,EAAc;AACnD,UAAIA,QAAQ,CAACxC,IAAT,CAAc0C,QAAd,IAA0B,IAA9B,EAAoC;AAClC3C,QAAAA,YAAY,CAACyC,QAAQ,CAACxC,IAAT,CAAc2C,IAAd,CAAmB,CAAnB,EAAsBC,QAAvB,CAAZ;AACA3C,QAAAA,OAAO,CAACuC,QAAQ,CAACxC,IAAV,CAAP;AACA7B,QAAAA,KAAK,CAACmE,GAAN,CAAW1C,YAAY,GAAC,4BAAxB,EAAsD2C,IAAtD,CAA2D,UAACC,QAAD,EAAc;AACvEK,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAUN,QAAQ,CAACxC,IAAT,CAAc+C,MAApC;AACAvB,UAAAA,WAAW,CAACgB,QAAQ,CAACxC,IAAT,CAAc+C,MAAf,CAAX;AACA3B,UAAAA,YAAY,CAAC4B,IAAI,CAACC,IAAL,CAAUT,QAAQ,CAACxC,IAAT,CAAc+C,MAAd,GAAuB7B,OAAjC,CAAD,CAAZ;AACD,SAJD;AAKA/C,QAAAA,KAAK,CAAC4D,IAAN,CAAYnC,YAAY,GAAC,+BAAzB,EAA0D;AACxDkB,UAAAA,MAAM,EAAEA,MADgD;AAExDI,UAAAA,OAAO,EAAEA;AAF+C,SAA1D,EAGGqB,IAHH,CAGQ,UAACC,QAAD,EAAc;AACpBvB,UAAAA,UAAU,CAACuB,QAAQ,CAACxC,IAAV,CAAV;AACA6C,UAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACxC,IAArB;AACD,SAND;AAOD,OAfD,MAeO;AACLH,QAAAA,OAAO,CAACmC,IAAR,CAAa,QAAb;AACD;AACF,KAnBD;AAoBD,GArBQ,EAqBN,CAAClB,MAAD,CArBM,CAAT;AAsBA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEoC,MAAAA,MAAM,EAAE;AAAV,KAAb;AAAoC,IAAA,OAAO,EAAC,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CADF,CADF,CAFF,EAWG3B,QAAQ,GAAG,CAAX,gBACC;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA0BA,QAA1B,CADF,EAEGP,OAAO,CAACmC,GAAR,CAAY,UAASC,GAAT,EAAc;AACzB,QAAItD,YAAY,CAACiD,MAAb,IAAuB,CAA3B,EAA8B;AAC5BlD,MAAAA,OAAO,CAACmC,IAAR,CAAa,QAAb;AACD;;AACD,wBACE;AACE,MAAA,OAAO,EAAE;AAAA,eAAMI,gBAAgB,CAACgB,GAAG,CAACC,MAAL,CAAtB;AAAA,OADX;AAEE,MAAA,SAAS,EAAEnE,UAAU,CAAC;AACpBoE,QAAAA,KAAK,EAAE,IADa;AAEpBlD,QAAAA,MAAM,EAAEqC,WAAW,CAACW,GAAG,CAACC,MAAL;AAFC,OAAD,CAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBD,GAAG,CAACG,IAA1B,CAPF,eAQE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBH,GAAG,CAACI,OAA1B,CARF,eASE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBJ,GAAG,CAACK,IAA7B,CATF,CADF;AAaD,GAjBA,CAFH,eAoBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpC,YAAY,IAAI,CAAhB,gBACC,oBAAC,UAAD,CAAY,KAAZ;AAAkB,IAAA,QAAQ,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,oBAAC,UAAD,CAAY,KAAZ;AAAkB,IAAA,OAAO,EAAE;AAAA,aAAMQ,gBAAgB,EAAtB;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAOGR,YAAY,IAAI,CAAhB,gBACC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,OAAO,EAAE;AAAA,aAAMO,cAAc,EAApB;AAAA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAYE,oBAAC,UAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACQP,YADR,UAC0BF,SAD1B,CAZF,EAgBGE,YAAY,IAAIF,SAAhB,gBACC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,OAAO,EAAE;AAAA,aAAMM,eAAe,EAArB;AAAA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBJ,EAsBGJ,YAAY,IAAIF,SAAhB,gBACC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,OAAO,EAAE;AAAA,aAAMQ,eAAe,EAArB;AAAA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,CADF,CApBF,CADF,eAoDE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gTAFF,CApDF,CADD,gBA8DC;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CAzEJ,eA6EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+YAHF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mXARF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAXF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2aAZF,CA7EF,CADF;AAgGD;;AAED,eAAehC,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n//import { withCookies, Cookies } from 'react-cookie';\r\nimport Cookies from \"js-cookie\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport {\r\n  Nav,\r\n  Navbar,\r\n  NavDropdown,\r\n  NavItem,\r\n  Card,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useHistory } from \"react-router\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport favorites from \"../images/favorites.jpg\";\r\nimport classNames from \"classnames\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBookmark as fasB } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faBookmark as farB } from \"@fortawesome/free-regular-svg-icons\";\r\nimport Popup from \"../common/Popup\";\r\nimport CommonNav from \"../common/CommonNav\";\r\nimport { useGlobalConfigContext } from \"../App\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\n\r\nfunction HousingPlan() {\r\n  const serverDomain   = useGlobalConfigContext()[\"serverDomain\"];\r\n  const history = useHistory();\r\n  const [loggedInUser, setLoginUser] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [unit_org, setUnitOrgData] = useState([]);\r\n  const [active, setActive] = useState(false);\r\n  const [favData, setFavData] = useState([]);\r\n\r\n  Axios.defaults.withCredentials = true;\r\n  const cookieExists = (document.cookie.match(\r\n    /^(?:.*;)?\\s*userId\\s*=\\s*([^;]+)(?:.*)?$/\r\n  ) || [, null])[1];\r\n  /* add by dinhle */\r\n  // const for paging\r\n  const [offset, setOffset] = useState(0);\r\n  const [orgData, setOrgData] = useState([]);\r\n  const [perPage] = useState(3);\r\n  const [pageCount, setPageCount] = useState(0);\r\n  const [selectedPage, setselectedPage] = useState(1);\r\n  const [totalOrg, setTotalOrg] = useState(0);\r\n  const nextClickPaging = (e) => {\r\n    setOffset(offset + perPage);\r\n    setselectedPage(selectedPage + 1);\r\n  };\r\n  const lastClickPaging = (e) => {\r\n    if (totalOrg % perPage == 0) {\r\n      setOffset(totalOrg - perPage);\r\n    } else {\r\n      setOffset(totalOrg - (totalOrg % perPage));\r\n    }\r\n    setselectedPage(pageCount);\r\n  };\r\n\r\n  const preClickPaging = (e) => {\r\n    setOffset(offset - perPage);\r\n    setselectedPage(selectedPage - 1);\r\n  };\r\n  const firstClickPaging = (e) => {\r\n    setOffset(0);\r\n    setselectedPage(1);\r\n  };\r\n  // end const for paging\r\n\r\n  const logoutUser = () => {\r\n    Axios.post( serverDomain+\"/logout\", {}, { withCredentials: \"true\" });\r\n    history.push(\"/login\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const getOrganizations = (id) => {\r\n    Axios.get( serverDomain+\"/favorites/\" + id).then((response) => {\r\n      setActive(id);\r\n      setUnitOrgData(response.data[0]);\r\n    });\r\n  };\r\n\r\n  const checkActive = (id) => {\r\n    return id === active;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    Axios.get( serverDomain+\"/login\").then((response) => {\r\n      if (response.data.loggedIn == true) {\r\n        setLoginUser(response.data.user[0].username);\r\n        setData(response.data);\r\n        Axios.get( serverDomain+\"/favorites/housingPlanAll/\").then((response) => {\r\n          console.log(\"size \" + response.data.length)\r\n          setTotalOrg(response.data.length);\r\n          setPageCount(Math.ceil(response.data.length / perPage));\r\n        });\r\n        Axios.post( serverDomain+\"/favorites/housingPlanPaging/\", {\r\n          offset: offset,\r\n          perPage: perPage,\r\n        }).then((response) => {\r\n          setOrgData(response.data);\r\n          console.log(response.data);\r\n        });\r\n      } else {\r\n        history.push(\"/login\");\r\n      }\r\n    });\r\n  }, [offset]);\r\n  return (\r\n    <div className=\"container home\">\r\n      <CommonNav />\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"\">\r\n          <Card style={{ cursor: \"pointer\" }} onClick=\"\">\r\n            <Card.Body>\r\n              <Card.Title className=\"cardTitleCustom\">Housing Plan</Card.Title>\r\n            </Card.Body>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n      {totalOrg > 0 ? (\r\n        <div className=\"homeDisplay\">\r\n          <div className=\"disp1\">\r\n            <h5>Total Organizations: {totalOrg}</h5>\r\n            {orgData.map(function(org) {\r\n              if (loggedInUser.length == 0) {\r\n                history.push(\"/login\");\r\n              }\r\n              return (\r\n                <div\r\n                  onClick={() => getOrganizations(org.org_id)}\r\n                  className={classNames({\r\n                    ldisp: true,\r\n                    active: checkActive(org.org_id),\r\n                  })}\r\n                >\r\n                  <div className=\"ttl\">{org.name}</div>\r\n                  <div className=\"ttl\">{org.address}</div>\r\n                  <div className=\"subttl\">{org.type}</div>\r\n                </div>\r\n              );\r\n            })}\r\n            <div className=\"pagingWrap\">\r\n              <Pagination>\r\n                {selectedPage <= 1 ? (\r\n                  <Pagination.First disabled />\r\n                ) : (\r\n                  <Pagination.First onClick={() => firstClickPaging()} />\r\n                )}\r\n\r\n                {selectedPage <= 1 ? (\r\n                  <Pagination.Prev disabled />\r\n                ) : (\r\n                  <Pagination.Prev onClick={() => preClickPaging()} />\r\n                )}\r\n                <Pagination.Item>\r\n                  page {selectedPage} of {pageCount}\r\n                </Pagination.Item>\r\n\r\n                {selectedPage >= pageCount ? (\r\n                  <Pagination.Next disabled />\r\n                ) : (\r\n                  <Pagination.Next onClick={() => nextClickPaging()} />\r\n                )}\r\n\r\n                {selectedPage >= pageCount ? (\r\n                  <Pagination.Last disabled />\r\n                ) : (\r\n                  <Pagination.Last onClick={() => lastClickPaging()} />\r\n                )}\r\n              </Pagination>\r\n            </div>\r\n          </div>\r\n          <div className=\"disp2\">\r\n            <h3>Finding housing in your area starts with you</h3>\r\n            <p>To find local housing resources (i.e., websites and organizations that can help you), search online using phrases such as\r\n               “Apartments for rent in (fill in your town).” This should bring up a list of housing websites and organizations that can help you \r\n               find the best housing fit for you.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"singleDisplay\">\r\n          <h3>There is no favorites</h3>\r\n        </div>\r\n      )}\r\n      <div>\r\n        <h2>FAQ</h2>\r\n        <h3>1. What is public housing?</h3>\r\n        <p>Public housing programs are run by the U.S. Department of Housing and Urban Development also referred to as HUD, \r\n          which provides safe and decent housing for low-income families, the elderly, and people with disabilities. Some people may not be eligible for public housing based on their criminal record; \r\n          check with the staff member you are working with to make sure you are eligible to apply.\r\n        </p>\r\n        <h3>How can I apply for public housing?</h3>\r\n        <p>The U.S. Department of Housing and Urban Development was created to provide quality and affordable housing for all Americans. Click on the “State Info” link and find your state for a more detailed look at how HUD can help you.\r\n           If you are interested in getting assistance with finding housing, head over to http://www.hud.gov/offices/hsg/sfh/hcc/hcs.cfm.\r\n        </p>\r\n        <h3>What are Section 8 Vouchers?</h3>\r\n        <p>Public Housing Agencies can provide help obtaining public housing or Section 8 vouchers. These vouchers can be used to help you pay rent in private apartments. Most housing assistance programs are local, meaning that you need to find out what programs exist in your area. \r\n          You can find your local public housing agency by searching online using terms such as “(your town or city’s) Public Housing Agency.”\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HousingPlan;\r\n"]},"metadata":{},"sourceType":"module"}